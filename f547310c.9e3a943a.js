(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{118:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return s})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return p}));var n=a(3),r=a(7),i=(a(0),a(125)),o={title:"Creating Packages",id:"creating_packages"},s={unversionedId:"meta/creating_packages",id:"meta/creating_packages",isDocsHomePage:!1,title:"Creating Packages",description:"The Bonsai language can be easily extended with custom operators, which are installed and shared using assembly packages. These packages are typically written in the C# programming language, using the Visual Studio development environment.",source:"@site/docs/meta/create_package.md",slug:"/meta/creating_packages",permalink:"/docs/docs/meta/creating_packages",editUrl:"https://github.com/spewil/bonsai-rx-docs/edit/main/docs/meta/create_package.md",version:"current",sidebar:"docs",previous:{title:"Writing Documentation",permalink:"/docs/docs/meta/writing_docs"}},c=[{value:"Install pre-requisites",id:"install-pre-requisites",children:[]},{value:"Create a package project",id:"create-a-package-project",children:[]}],l={rightToc:c};function p(e){var t=e.components,o=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},l,o,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"The Bonsai language can be easily extended with custom operators, which are installed and shared using assembly packages. These packages are typically written in the C# programming language, using the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.visualstudio.com/"}),"Visual Studio")," development environment."),Object(i.b)("h2",{id:"install-pre-requisites"},"Install pre-requisites"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.visualstudio.com/"}),"Visual Studio"),". You can install the Community edition for free."),Object(i.b)("li",{parentName:"ol"},'Bonsai VS Extensions. In the Windows Start Menu, search for the "',Object(i.b)("strong",{parentName:"li"},"Install Bonsai VS Extensions"),'" shortcut and run it.')),Object(i.b)("h2",{id:"create-a-package-project"},"Create a package project"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Start ",Object(i.b)("strong",{parentName:"li"},"Visual Studio"),"."),Object(i.b)("li",{parentName:"ol"},"Create a ",Object(i.b)("strong",{parentName:"li"},"New Project"),". In the ",Object(i.b)("strong",{parentName:"li"},"New Project")," dialog, there should now be a project template for creating a Bonsai package, under ",Object(i.b)("strong",{parentName:"li"},"Templates/Visual C#/Bonsai"),". ",Object(i.b)("img",{alt:"Creating a new Bonsai package project",src:a(236).default})),Object(i.b)("li",{parentName:"ol"},'After the project is created, you should see that a file "',Object(i.b)("strong",{parentName:"li"},"Transform1.cs"),'" has been created and added to the solution explorer. This file contains an example implementation of a custom transform node. ',Object(i.b)("img",{alt:"Bonsai transform template",src:a(237).default})),Object(i.b)("li",{parentName:"ol"},Object(i.b)("inlineCode",{parentName:"li"},"TSource")," and ",Object(i.b)("inlineCode",{parentName:"li"},"TResult")," specify the input and output data types of the transform and you can modify them however you want. Every Bonsai node operates on observable sequences using the ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"http://reactivex.io/"}),"ReactiveX")," framework. Transforms are nodes which apply an operation to every item in the input sequence. The simplest way to implement a transform is by using the ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"http://reactivex.io/documentation/operators/map.html"}),Object(i.b)("inlineCode",{parentName:"a"},"Select"))," operator from Rx. As an example, we will modify the transform in order to apply a sine operation on numeric inputs. ",Object(i.b)("img",{alt:"Implementation of a sine transform",src:a(238).default})),Object(i.b)("li",{parentName:"ol"},"We can test our transform by starting the project with ",Object(i.b)("strong",{parentName:"li"},"F5"),". This will automatically launch the Bonsai editor with our package preloaded in the ",Object(i.b)("strong",{parentName:"li"},"Toolbox"),". Add a ",Object(i.b)("inlineCode",{parentName:"li"},"Timer")," source and our ",Object(i.b)("inlineCode",{parentName:"li"},"Transform1")," node. Set the timer period to some reasonable value like 0.1 seconds and run the workflow. ",Object(i.b)("img",{alt:"Running the sine transform",src:a(239).default})),Object(i.b)("li",{parentName:"ol"},"It is also possible to debug our code while it is running by setting breakpoints, either by clicking on the left of the line we want to debug or by hitting ",Object(i.b)("strong",{parentName:"li"},"F9")," over the target code. After this, you can run the code step by step and inspect the runtime value of variables. ",Object(i.b)("img",{alt:"Setting a breakpoint on the sine transform",src:a(240).default})," ",Object(i.b)("img",{alt:"Debugging the sine transform",src:a(241).default}))))}p.isMDXComponent=!0},125:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var n=a(0),r=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=r.a.createContext({}),p=function(e){var t=r.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=p(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=p(a),b=n,d=u["".concat(o,".").concat(b)]||u[b]||m[b]||i;return a?r.a.createElement(d,s(s({ref:t},l),{},{components:a})):r.a.createElement(d,s({ref:t},l))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=b;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,o[1]=s;for(var l=2;l<i;l++)o[l]=a[l];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"},236:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/packageproject-83290632c99030041f2fe255fe586cdb.png"},237:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/transformtemplate-773d0886a2e689989909a22e176e517f.png"},238:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/transformsine-212bc31a07ce698a9c86360193bc9f75.png"},239:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/transformsine-running-796adfa12b0f39ed6dd093318848fc68.png"},240:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/transformsine-breakpoint-a51d817fd441b0c8ca8c63fb3e2a7151.png"},241:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/transformsine-debugging-617ef566ced2ab6ab8ec3368fd38207b.png"}}]);